str1 = '1234567890'
str2 = str1.gsub(/(\d)(?=(\d{3})+$)/, '\1,')
p str1
p str2


puts '1'.gsub(/(\d)(?=(\d{3})+$)/, '\1,')
puts '12'.gsub(/(\d)(?=(\d{3})+$)/, '\1,')
puts '123'.gsub(/(\d)(?=(\d{3})+$)/, '\1,')
puts '1234'.gsub(/(\d)(?=(\d{3})+$)/, '\1,')
puts '12345'.gsub(/(\d)(?=(\d{3})+$)/, '\1,')
puts '1234567890'.gsub(/(\d)(?=(\d{3})+$)/, '\1,')
